<ui-plugin>

    <style>
        .box {
            width: 200px;
            height: 200px;
            background-color: lightgray;
            /* padding: 10px; */
            /* margin: 10px; */
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 5px;
            margin-bottom: 5px;
        }
    </style>

    <header>
        <label><i class="ti ti-box"></i>@(All tables)</label>
        <nav class="toolbar">
            <button class="exec link" data-exec="?/create"><i class="ti ti-plus-circle green"></i>@(Add)</button>
            <button><i class="ti ti-cog"></i>@(Options)</button>
        </nav>
    </header>


    <div class="padding">
        @(Tables)

        <div data-bind="?.data__template">
            <script type="text/html">

                {{ foreach table in value }}

                    <div class="col-md-3 col-sm-4 col-xs-6 col-lg-2 box">
                        {{ table.title }}
                    </div>                

                {{ end }}
                
            </script>

        </div>

    </div>
</ui-plugin>

<ui-component name="importer" path="common.form" config="if:table;url:/forms/table.html"></ui-component>

<script>
    PLUGIN(function (exports) {

        exports.reload = function () {

            console.log('reloading');

            exports.ajax('GET /api/tables/ @showloading', 'data @hideloading');          // data will end up in PLUGINS.tables.data ?
        };

        exports.create = function () {
            // show the table form

            // exports.set(
            //     'common.form', 'table'
            // );

            SET('common.form', 'table');
        };




    });

</script>